
<div class="d-flex p-2 nunito-sans text-white">
    <p>Total( {{ orders.length }} )</p>
    <div class="vr"></div>
    <p>Em andamento( {{ getInProcessOrders().length }} )</p>
    <div class="vr"></div>
    <p>Concluídos( {{ getFinishedOrders().length }} )</p>
</div>
<table class="order-table nunito-sans">
    <thead>
        <tr>
            <th scope="col"></th>
            <th scope="col">Equipamento</th>
            <th scope="col">Início</th>
            <th scope="col">Previsão de entrega</th>
            <th scope="col">Problema apresentado</th>
            <th scope="col">Funcionário responsável</th>
            <th scope="col">Status</th>
        </tr>
    </thead>
    <tbody>
        @if(orders.length === 0) {
            <tr>
                <td colspan="8" class="text-center">Nenhuma ordem de serviço cadastrada</td>
            </tr>
        } @else {
            @for(order of orders; track order.id) {
                <tr [class.selectedRow]="rowIsSelected(order.id)" (click)="onRowClick(order.id)" style="cursor: pointer;" 
                (mouseup)="detectRightMouseClick($event, order)">
                    <td>
                        @if(rowIsSelected(order.id)) {
                            <input class="form-check-input" type="checkbox" id="flexCheckDefault" checked>
                        } @else {
                            <input class="form-check-input" type="checkbox" id="flexCheckDefault">
                        }
                    </td>
                    <th scope="row">{{order.equipment}}</th>
                    <td>{{order.start}}</td>
                    <td>{{order.delivery}}</td>
                    <td>{{order.problem}}</td>
                    <td>{{order.employee}}</td>
                    @if(order.status === "Em andamento") {
                        <td class="progress-text">{{order.status}}</td>
                    } @else {
                        <td class="finalized-text">{{order.status}}</td>
                    }
                </tr>
            }
        }
    </tbody>
</table>
<div id="contextmenu" class="contextmenu" [ngStyle]="rightPanelStyle" (appClickOutside)="closeContextMenu()">
    <ul>
        <li>{{ currentOrder.equipment }}</li>
        <li>{{ currentOrder.status }}</li>
    </ul>
</div>
